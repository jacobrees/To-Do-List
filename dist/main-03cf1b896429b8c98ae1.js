!function(){"use strict";var t=()=>{document.querySelector(".loading-container").classList.toggle("hide-loading-screen")};const e=JSON.parse(localStorage.getItem("categoriesArray"))||[{category:null},{category:null},{category:null},{category:null}],o=(t,o)=>{const c=[...e];c[t]=o,localStorage.setItem("categoriesArray",JSON.stringify(c))};const c=document.querySelector(".todos-container");var n=new Isotope(c,{itemSelector:".todo",percentPosition:!0,layoutMode:"masonry",masonry:{columnWidth:".todo",horizontalOrder:!0,gutter:10}});const a=document.querySelector(".categories-container"),r=document.querySelector(".add-todo-categories"),l=document.querySelector(".edit-categories-btns-container");var s=()=>{(()=>{for(;a.firstChild;)a.removeChild(a.lastChild);for(;r.firstChild;)r.removeChild(r.lastChild);for(;l.firstChild;)l.removeChild(l.lastChild)})(),(()=>{let t="";e.filter((t=>null===t.category)).length>2?e.forEach(((e,o)=>{e.category&&(t+=`<div class="category">\n                    <button type="button" class="category-btn category-btn-sort active-category">\n                      <span class="dot dot${o+1}"></span>\n                      <span class="category-title">${e.category}</span>\n                    </button>\n                  </div>`)})):(t+='<div class="category">\n              <button type="button" class="category-btn category-btn-sort active-category">\n                <span class="dot dot-all"></span>\n                <span class="category-title">all</span>\n              </button>\n            </div>',e.forEach(((e,o)=>{e.category&&(t+=`<div class="category">\n                  <button type="button" class="category-btn category-btn-sort">\n                    <span class="dot dot${o+1}"></span>\n                    <span class="category-title">${e.category}</span>\n                  </button>\n                </div>`)}))),a.innerHTML=t})(),(()=>{const t=document.querySelector(".categories-container");new Flickity(t,{contain:!1,freeScroll:!0,watchCSS:!0,cellAlign:"center",prevNextButtons:!0,pageDots:!1})})(),(()=>{const t=document.querySelectorAll(".category-btn-sort");t.forEach((e=>{e.addEventListener("click",(e=>{e.currentTarget.classList.contains("active-category")||(t.forEach((t=>{t.classList.remove("active-category")})),e.currentTarget.classList.add("active-category"),"all"===e.currentTarget.childNodes[3].textContent?n.arrange({filter:"*"}):n.arrange({filter:`.${e.currentTarget.childNodes[3].textContent}`}))}))}))})(),(()=>{let t="";e.forEach(((e,o)=>{e.category&&(t+=`<div class="category-option">\n                <button type="button" class="category-btn category-btn-add">\n                  <span class="dot dot${o+1}"></span>\n                  <span class="category-title">${e.category}</span>\n                </button>\n              </div>`)})),r.innerHTML=t})(),(()=>{const t=document.querySelectorAll(".category-btn-add");t.forEach((e=>{e.addEventListener("click",(e=>{e.currentTarget.classList.contains("active-category")||(t.forEach((t=>{t.classList.remove("active-category")})),e.currentTarget.classList.add("active-category"))}))}))})(),(()=>{let t="";e.forEach(((e,o)=>{e.category&&(t+=`<div class="edit-category">\n                  <div class="edit-category-container">\n                    <span class="dot dot${o+1}"></span>\n                    <span class="category-title">${e.category}</span>\n                  </div>\n                  <button type="button" class="delete-category-btn">\n                    <svg class="delete-category-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/></svg>\n                  </button>\n              </div>`)})),l.innerHTML=t})()};var d=()=>{document.querySelectorAll(".add-todo-btn, .cancel-add-new-todo-button").forEach((t=>{t.addEventListener("click",(()=>{(()=>{const t=document.querySelector(".add-new-todo-container");t.classList.contains("show-add-new-todo")&&(()=>{const t=document.querySelectorAll("#add-todo-title, #add-todo-description"),e=document.querySelectorAll(".category-btn-add");setTimeout((()=>{e.forEach((t=>{t.classList.remove("active-category")})),t.forEach((t=>{t.value=""}))}),250)})(),t.classList.toggle("show-add-new-todo")})()}))})),document.querySelectorAll(".todo-edit-btn, .cancel-edit-existing-todo-button").forEach((t=>{t.addEventListener("click",(()=>{(()=>{const t=document.querySelector(".edit-existing-todo-container");t.classList.contains("show-edit-existing-todo")&&(()=>{const t=document.querySelectorAll("#edit-todo-title, #edit-todo-description");setTimeout((()=>{t.forEach((t=>{t.value=""}))}),250)})(),t.classList.toggle("show-edit-existing-todo")})()}))})),document.querySelectorAll(".add-category-button, .cancel-add-category-button").forEach((t=>{t.addEventListener("click",(()=>{(()=>{const t=document.querySelector(".add-category-popup-container");t.classList.contains("show-add-category-popup")&&(()=>{const t=document.querySelector("#add-category-title");setTimeout((()=>{t.value=""}),250)})(),t.classList.toggle("show-add-category-popup")})()}))}))};let i;var g=()=>{(()=>{const c=document.querySelector(".add-add-category-button"),n=document.querySelector("#add-category-title");c.addEventListener("click",(()=>{(c=>{const n=e.findIndex((t=>null===t.category));if(-1!==n){const e=(t=>({category:t}))(c);o(n,e),t(),setTimeout((()=>{window.location.reload()}),300)}})(n.value)}))})(),document.querySelectorAll(".delete-category-btn").forEach((t=>{t.addEventListener("click",(t=>{i=t.currentTarget.parentElement.childNodes[1].childNodes[3].textContent}))})),document.querySelector(".delete-category-button").addEventListener("click",(()=>{(()=>{const c=e.findIndex((t=>t.category===i));-1!==c&&(o(c,{category:null}),t(),setTimeout((()=>{window.location.reload()}),300))})()}))};window.addEventListener("load",(()=>{setTimeout((()=>{t()}),1400)})),(()=>{if(null===localStorage.getItem("categoriesArray")){const t=[{category:null},{category:null},{category:null},{category:null}];localStorage.setItem("categoriesArray",JSON.stringify(t))}})(),s(),(()=>{const t=document.querySelectorAll(".todo-menu-btn");t.forEach((e=>{e.addEventListener("click",(e=>{const o=e.currentTarget.parentElement.parentElement.parentElement.childNodes[3];o.classList.contains("show-todo-options")?o.classList.remove("show-todo-options"):(t.forEach((t=>{t.parentElement.parentElement.parentElement.childNodes[3].classList.remove("show-todo-options")})),o.classList.toggle("show-todo-options"))}))}))})(),(()=>{const t=document.querySelectorAll(".todo-delete-btn, .cancel-delete-todo-button"),e=document.querySelector(".delete-todo-popup-container");t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.toggle("show-delete-todo-popup")}))}))})(),(()=>{const t=document.querySelectorAll(".delete-all-done-todos-btn, .cancel-delete-all-todo-button"),e=document.querySelector(".delete-all-todo-popup-container");t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.toggle("show-delete-all-todo-popup")}))}))})(),(()=>{const t=document.querySelectorAll(".edit-categories-btn, .cancel-edit-categories-button"),e=document.querySelector(".edit-categories-container");t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.toggle("show-edit-categories")}))}))})(),(()=>{const t=document.querySelectorAll(".delete-category-btn, .cancel-delete-category-button"),e=document.querySelector(".delete-category-popup-container");t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.toggle("show-delete-category-popup")}))}))})(),d(),document.querySelector(".show-categories-btn").addEventListener("click",(()=>{window.scroll({top:0,behavior:"smooth"})})),document.querySelectorAll(".done-checkbox").forEach((t=>{t.addEventListener("change",(t=>{const e=t.currentTarget.parentElement.parentElement.parentElement.childNodes[1],o=t.currentTarget.parentElement.parentElement.parentElement.childNodes[3];e.classList.toggle("done"),o.classList.toggle("done")}))})),g()}();